<template name="database">
  {{> databaseNav searchElsewhere=true}}
  {{> databaseSearch}}
</template>

<template name="databaseSearch">
  <div class="panel database-homepage {{#if query}}is-searching{{/if}}">
    <div class="pane database-header">
      <div class="database-heading">
        <a class="site-title h3" href="/"><span>kit.</span><span>listlyst</span></a>
        <h1>Database</h1>
      </div>
      <form class="database-search">
        <div class="form-group">
          <label for="searchDatabase">Search for</label>
          <input type="text" name="searchDatabase" class="form-control" placeholder="a card name, race, or description">
        </div>
      </form>
    </div>
  </div>
  {{#if query}}
  <div class="content-container">
    <h2>Results</h2>
    {{#if searching}}
      <p>searching for <code>{{query}}</code>...</p>
    {{else}}
      {{#if results}}
      <p>Found <b>{{resultsCount}}</b> cards matching <code>{{query}}</code></p>
        <div class="database-results card-container">
          {{#each results}}
          <div class="card-wrapper">
            {{> databaseCard layout="cardResult" info=this query=query}}
          </div>
          {{/each}}
          <div class="card-wrapper grid-force"></div>
          <div class="card-wrapper grid-force"></div>
          <div class="card-wrapper grid-force"></div>
          <div class="card-wrapper grid-force"></div>
        </div>
      {{else}}
        {{#if query}}
          <p class="alert alert-warning">Nothing found for <code>{{query}}</code></p>
        {{/if}}
      {{/if}}
    {{/if}}
  </div>
  {{> mainFooter includeNav=true}}
  {{/if}}
</template>

<template name="highlightQuery">
  {{highlighted}}
</template>
