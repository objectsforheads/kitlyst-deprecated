<template name="scenebuilderBuild">
  <link href="https://fonts.googleapis.com/css?family=Lato:100,300,400,700,900|Open+Sans:300,400,600,700,800" rel="stylesheet">
  <div class="scenebuilder">
    <div class="scenebuilder__set" data-battlemap="1">
      <div class="set__stage"></div>
      <div class="set__props">
        <div class="set__prop set__prop--1"></div>
        <div class="set__prop set__prop--2"></div>
      </div>
    </div>
    <div class="scenebuilder__stage">
      <div class="stage__board">
        {{#each boardRows }}
        <div class="board__row" data-row="{{this}}">
          {{#each boardColumns }}
          <div class="board__tile" data-column="{{this}}"></div>
          {{/each}}
        </div>
        {{/each}}
      </div>
    </div>
    {{> scenebuilderBuild__player player=player1}}
    {{> scenebuilderBuild__player player=player2}}
  </div>
</template>

<template name="scenebuilderBuild__player">
  <div class="scenebuilder__player" data-player="{{player.id}}">
    <div class="player__general" data-general="{{player.general.id}}" data-health="{{player.general.health}}" style="background-image: url('/assets/img/scene/generals/hex/hex_{{player.general.id}}.png');"></div>
    <div class="player__general-bbs" data-manacost="{{player.bbs.cost}}" data-cooldown="{{player.bbs.cooldown}}" data-remaining="{{player.bbs.remaining}}">
      <span class="bbs__cooldown" data-remaining="{{player.bbs.remaining}}"></span>
      <div class="sprite {{player.bbs.id}} passive"></div>
    </div>
    <div class="player__manabar" data-available="{{player.manabar.available}}" data-used="{{player.manabar.used}}">
      {{#each playerManaslots}}
      <div class="manabar__manaslot {{#if this.active}}available{{/if}} {{#if this.used}}used{{/if}}">
  			<div class="manaslot__state inactive"></div>
  			<div class="manaslot__state available"></div>
  			<div class="manaslot__state used"></div>
  		</div>
      {{/each}}
    </div>
  </div>
</template>
